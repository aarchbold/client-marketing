$.fn.handleNewsletter=function(){function e(){t.prop("disabled",!0),r.prop("disabled",!0),o.show()}function n(){t.removeClass("-error"),l.hide(),i.hide(),t.val(t.val().trim()),d.test(t.val())?(e(),alert("good dude")):(u.html(a),l.show(),t.addClass("-error"))}var s=$(this),t=$(".newsletter-signup__input",s),r=$(".button__signup",s),i=$(".newsletter-signup__form.-success",s),l=$(".newsletter-signup__form.-fail",s),o=($(".newsletter-signup__form.-entry",s),$(".newsletter-signup__spinner",s)),u=$(".newsletter-signup__error-msg",s),a="Oops! Something went wrong. Please make sure you've entered a valid Email address.",d=/[^\s@]+@[^\s@]+\.[^\s@]+/;r.click(function(e){e.preventDefault(),n()}),t.keyup(function(e){13===e.which&&n()})},$(function(){$(".newsletter-signup").handleNewsletter()});