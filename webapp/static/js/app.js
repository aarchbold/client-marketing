$.fn.handleRequestDemo=function(){function e(e){function o(){var e={Fullname:i.val(),Jobtitle:c.val(),Email:d.val(),Phone:m.val(),Company:v.val(),Employees:u.val()},o={FullName:i.val(),JobTitle:c.val(),Email:d.val(),Phone:m.val(),Company:v.val(),Employees:u.val()};o=JSON.stringify(o),$.ajax({type:"POST",url:"https://a3uz2ncpl3.execute-api.us-west-2.amazonaws.com/prod/send_email",data:o,success:function(e){console.log("got message")},error:function(){console.log("error in the api call")},dataType:"json"}),mixpanel.track("DemoRequest",e,function(e){console.log("Mixpanel tracked!"),console.log(e),g.html(i.val()),p.hide(),C.hide(),w.show(),y.show()})}function l(){var e=!0;""===i.val()?i.addClass("-error"):i.removeClass("-error"),""===c.val()?c.addClass("-error"):c.removeClass("-error"),""!==d.val()&&f.test(d.val())?d.removeClass("-error"):d.addClass("-error"),""===m.val()?m.addClass("-error"):m.removeClass("-error"),""===v.val()?v.addClass("-error"):v.removeClass("-error"),"0"===u.val()?u.addClass("-error"):u.removeClass("-error"),t.each(function(o,a){console.log(a),$(a).hasClass("-error")&&(e=!1)}),"0"===u.val()&&(e=!1),!0===e&&o()}var s=e,r=$(".modal-button__close",s),n=$(".-close",s),t=$(".modal-input",s),i=$("#fullName",s),c=$("#jobTitle",s),d=$("#workEmail",s),m=$("#phoneNumber",s),v=$("#companyName",s),u=$("#numEmployees",s),h=$("#requestDemo",s),f=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|jobs|name|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,p=$(".modal-header.-request",s),w=$(".modal-header.-thanks",s),C=$(".modal-content.-request",s),y=$(".modal-content.-thanks",s),g=$(".form-firstname",s);h.click(function(e){e.preventDefault(),l()}),n.click(function(e){e.preventDefault(),a()}),e.click(function(o){$(o.target).hasClass("modal-overlay")&&(e.empty(),e.removeClass("-active"),e.remove(),$("body").css("overflow","visible"),window.location.hash="#close")}),$(window).on("hashchange",function(){"#requestInfo"!==window.location.hash&&r.trigger("click")}),r.click(function(e){e.preventDefault(),a()})}function o(){window.location.hash="#requestInfo",$sliderOverlay.addClass("-show"),$slider.addClass("-show"),s.css("overflow","hidden"),$slider.load("../../includes/request-demo.html",function(){e($slider)})}function a(){window.location.hash="#close",$sliderOverlay.removeClass("-show"),$slider.removeClass("-show"),s.css("overflow","visible")}var l=$(this),s=$("body");$sliderOverlay=$(".page-slider__overlay"),$slider=$(".page-slider"),l.click(function(e){e.preventDefault(),window.location.hash="#requestInfo",o()}),$sliderOverlay.click(function(){a()})},$(function(){$(".button-rquest-demo").handleRequestDemo()});